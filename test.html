<html>
	<!--include j-copy library-->
	<script src="https://cdn.rawgit.com/Triforcey/clip-j/d05046226af0af06a29aa202191b4b7d795f010f/clip-j.js" ></script>
	<head>
		<title>Test</title>
	</head>
	<body>
		<button onclick="copy()">Click Here</button>
	</body>
	<script>
		var text;
		var input;
		var finished;

		function copy() {
			input = prompt('What phrase do you want to copy?');
			try {
				clip(input);
			} catch (e) {
				document.write('There was an error: ' + '<p style="color: red;">' + '</p>');
			} finally {
				if (typeof e !== undefined) {
					document.write('The copy worked! Of course by that, we mean no errors were reported, so you may attempt a paste in the textbox below. <br>');
					text = document.createElement('input');
					text.setAttribute('type', 'text');
					text.setAttribute('onpaste', 'paste()');
					text = document.body.appendChild(text);
					text.focus();
					finished = true;
					document.write('<br> You may now paste.');
				}
			}
		}

		function paste() {
			setTimeout(paste2, 500);
		}

		function paste2() {
			if (text.value == input) {
				var temp = text.value;
				text.remove();
				document.write('<br> <br>' + temp);
				alert('It worked!');
			} else {
				alert('It failed.');
			}
		}
	</script>
</html>
